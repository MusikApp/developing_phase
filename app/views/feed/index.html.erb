<div>
  <%= current_user ? "Hello user: #{current_user.email}" : 'Hi stranger!' %> <!-- operador ternario -->
  <br>

    <% if current_user.avatar.attached? %>
        <%= image_tag current_user.avatar %>  
    <% end %>

  <% if current_user %> <!-- en caso de tener un usuario, ponermos el link al path, le psasmos el current user, y todo a travez del metodo delete el session_path es el prefijo al destroy y usamos el metodo :delete-->
    <%= link_to 'logout', destroy_user_session_path, method: :delete %>
  <% end %>

<div>
  <% @users.each do |user| %>
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><%= user.email %></h5>
        
      <% if user == current_user %>
        <h2>Followers: <%= user.followers.count %></h2>
        <h2>Following: <%= user.following.count %></h2>
      <% else %>
        <%= link_to 'Follow', user_relationships_path(user), method: :post unless user.followers.find_by(follower: current_user).present? %>
        <%= link_to 'Unfollow', relationship_path(user.followers.find_by(follower: current_user)), method: :delete if user.followers.find_by(follower: current_user).present? %>
        <h2>Followers: <%= user.followers.count %></h2>
        <h2>Following: <%= user.following.count %></h2>
      <% end %>


        </div>
    </div>
  <% end %>
</div>
